<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../static/homepage.css" />
  <!-- <link rel="stylesheet" type="text/css" href="homepage.css" th:href="@{homepage.css}" /> -->
  <!-- <link href="{{ url_for('static', filename = 'homepage.css') }}" rel="stylesheet" />； -->
  <title>Document</title>
</head>


<body>
  <div class="container">
    <div class="navigation">
      <ul>
        <li>
          <a href="#">
            <span class="icon">
              <ion-icon name="document-attach-outline"></ion-icon>
            </span>
            <span class="title">
              <h2>Onlinedoc</h2>
            </span>
          </a>
        </li>
        <li>
          <a href="#">
            <span class="icon">
              <ion-icon name="search-circle-outline"></ion-icon>
            </span>
            <span class="title"><b>search</b></span>
          </a>
        </li>
        <li>
          <a href="#">
            <span class="icon">
              <ion-icon name="clipboard-outline"></ion-icon>
            </span>
            <span class="title"><b>newdoc1
                <button id="btn_doc"></button>
              </b></span>

          </a>
        </li>
        <li>
          <a href="#">
            <span class="icon">
              <ion-icon name="code-slash-outline"></ion-icon>

            </span>
            <span class="title"><b>encode/decode
                <button id="btn_enc"></button>
              </b></span>
          </a>
        </li>
        <li>
          <a href="#">
            <span class="icon">
              <ion-icon name="create-outline"></ion-icon>
            </span>
            <span class="title"><b>edit exist
              <button id="btn_exitc"></button>
            </b></span>
          </a>
        </li>
      </ul>
    </div>

    <div class="main">
      <div class="tttt">
        <div class="toggle">
          <ion-icon name="menu-outline"></ion-icon>
        </div>
        <!-- search -->
        <div class="search">
          <label>
            <input id="ss" name="ss" type="text" placeholder="search here~">
            <!-- <ion-icon name="search-outline"></ion-icon> -->
            <button id="btn" class="searchenter">search</button>
          </label>
        </div>


        <div class="user">
          <img src="../static/image1.jpg">
        </div>
      </div>

      <ul id="showw">
        
      </ul>
    </div>

  </div>

  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  <script src="https://lib.sinaapp.com/js/jquery/2.0.2/jquery-2.0.2.min.js"></script>
  <script>
    //menutoggle
    let toggle = document.querySelector('.toggle');
    let navigation = document.querySelector('.navigation');
    let main = document.querySelector('.main');

    toggle.onclick = function () {
      navigation.classList.toggle('active');//这里的toggle是函数 不是上面的toggle如果classList中存在给定的值，删除它，否则，添加它；
      main.classList.toggle('active');
    }
    //添加hover class在选定的item上
    let list = document.querySelectorAll('.navigation li');
    function activeLink() {
      list.forEach((item) =>
        item.classList.remove('hovered'));//移除或添加类
      this.classList.add('hovered');
    }
    list.forEach((item) =>
      item.addEventListener('mouseover', activeLink));
  </script>

  <script>
    // hide()
    // show()

    $("#btn").click(function () {
      $.ajax({
        url: '/jsondemo',
        data: JSON.stringify({
          'name': $('#ss').val()
        }),
        dataType: 'json',  // 服务器回传的
        contentType: 'application/json',//传给服务器的
        method: 'POST',
        success: function (data) {
          // alert(data.name);
          //$('#txt').text(data);
          $("#showw").empty();
          var cout =0;
          for(var i in data){
            $("#showw").append("<li style = 'width:300px'>"+i+":第"+data[i]+"个字母"+"</li>");
            cout=1;
          }
          if(cout==0){
            $("#showw").append("<li>"+"文件中不存在该词"+"</li>");
          }
          console.log(data);

        },
        error: function () {
          alert('error');
        }
      })
    });
    $("#enbtn").click(function () {
      $.ajax({
        url: '/encode',
        data: JSON.stringify({
          'name': $('#demo').val()
        }),
        dataType: 'text',  // 服务器回传的
        contentType: 'application/json',//传给服务器的
        method: 'POST',
        success: function (data) {
          // alert(data.name);
          $('#enbtn').text(data);
        },
        error: function () {
          alert('error2');
        }
      })
    });

    $("#btn_doc").click(function () {
      window.location.href = "doc";
      window.open("doc.html");

    });
    $("#btn_enc").click(function () {
      //window.location.href = "doc";
      //window".open("doc.html");
      alert("hello");
    });
    $("#btn_exitc").click(function () {
      window.location.href = "exdoc";
      window.open("exdoc.html");

    });
  </script>

</body>

</html>